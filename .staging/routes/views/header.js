module.exports={requires:[{name:"core.language.js"},{name:"core.country.js"},{name:"core.currency.js"},{name:"core.date.js"}],exec:function(a){"use strict";var b=a["core.dom"],c=a["core.router"];return function(d){var e=d.wrapper,f=d.managers,g=f.dom;return g.mk("div",e,null,"logo").addEventListener("click",function(){c.to([])}),d.addSequence({container:e,promises:[f.object.create("navigation",{options:[{className:"app",active:!0},{className:"api",href:"http://api.igaro.com",onClick:function(){return window.open(this.href),Promise.resolve()}}]}),Promise.resolve(g.mk("a",null,null,function(){this.className="settings",this.addEventListener("click",function(c){c.preventDefault(),f.object.create("modaldialog").then(function(c){return c.managers.object.create("accordion").then(function(d){var e=d.managers,f=e.dom,g=e.debug,h=e.event,i=function(c,e){e="core."+e;var h=a[e];c.addEventListener("change",function(){(0===this.selectedIndex?h.reset():h.setEnv(this.options[this.selectedIndex].value))["catch"](function(a){return g.handle(a)})});var i=function(){c.options.length=0,f.mk("option",c,{en:"Automatic"}),f.mk("option",c).disabled=!0,Object.keys(h.pool).forEach(function(a){f.mk("option",c,h.pool[a].name).value=a})},j=function(){if(h.isAuto)c.selectedIndex=0;else{var a=h.env;Array.prototype.slice.call(c.options).some(function(b){return b.value===a?(b.selected=!0,!0):void 0})}},k=function(){b.sort({nodes:c.options,slice:[2]})};h.managers.event.extend(d).on("setEnv",j).on("setPool",i),a["core.language"].managers.event.extend(d).on("setEnv",k),i(),j(),k()};return[["language",{en:"Language"}],["country",{en:"Country"}],["currency",{en:"Currency"}]].forEach(function(a){d.addSection({title:a[1],content:f.mk("select",null,null,function(){i(this,a[0])})})}),d.addSection({title:{en:"Timezone"},content:f.mk("select",null,null,function(){var b,c,d,e,i=this,j=a["core.date"],k=j.envOffsetAuto?null:j.envOffset;f.mk("option",i,{en:"Automatic"}),f.mk("option",i).disabled=!0;var l=function(){e=this.value=-1*(60*b+d),e===k&&(this.selected=!0)};for(b=14;b>=0;b--)for(c=10>b?"0"+b:b,d=45;d>=0&&(b>0||0!==d);d-=15)f.mk("option",i,"GMT - "+c+":"+(0===d?"00":d),l);for(l=function(){e=this.value=60*b+d,e===k&&(this.selected=!0)},b=0;14>=b;b++)for(c=10>b?"0"+b:b,d=0;45>=d;d+=15)f.mk("option",i,"GMT +"+c+":"+(0===d?"00":d),l);h.on("core.date","setEnvOffset",function(){j.envOffsetAuto?i.selectedIndex=0:(k=j.envOffset,i.options.some(function(a){return a.value===k?(a.selected=!0,!0):void 0}))}),this.addEventListener("change",function(){(0===this.selectedIndex?j.resetEnvOffset():j.setEnvOffset(parseInt(this.options[this.selectedIndex].value)))["catch"](function(a){return g.handle(a)})})})}),c.custom({noCancel:!0,title:{en:"Locale"},custom:d.container})})})["catch"](function(a){return f.debug.handle(a)})})})),Promise.resolve(g.mk("a",null,null,function(){this.className="code",this.addEventListener("click",function(a){a.preventDefault(),window.open("https://github.com/igaro/app/blob/master/compile/cdn/js/"+c.current.path.join(".")+".js")})})),Promise.resolve(g.mk("div",null,null,function(){this.className="xhr",b.hide(this);var a,c=0,e=this;g.mk("div",e),d.on("instance.xhr","start",function(){0!==c||a||(a=window.setTimeout(function(){b.show(e)},350)),c++}),d.on("instance.xhr","end",function(){c>0&&c--,0===c&&(window.clearTimeout(a),a=null,b.hide(e))})}))]})}}};